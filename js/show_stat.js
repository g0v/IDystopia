!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f}));var s=n(4),i=n.n(s);const r={"0000000001":"MISSION/intro/step-1/done","0000000002":"MISSION/receive-package/step-1/done","0000000003":"RESPONSE/player_occupation/學生","0000000004":"RESPONSE/player_occupation/工程師","0000000005":"RESPONSE/player_occupation/律師","0000000006":"RESPONSE/player_occupation/健身教練","0000000007":"RESPONSE/player_occupation/中年職業婦女","0000000008":"RESPONSE/player_occupation/記者","0000000009":"MISSION/receive-package/step-2/done","0000000010":"MISSION/student-scene-intro/step-1/done","0000000011":"MISSION/student-scene-intro/step-2/done","0000000012":"MISSION/student-scene-intro/step-3/done","0000000013":"RESPONSE/student-intro-choice/passive","0000000014":"RESPONSE/student-intro-choice/proactive","0000000015":"MISSION/student-scene-academic-affairs-office/step-1/done","0000000016":"RESPONSE/student_asked_followup_question/false","0000000017":"RESPONSE/student_asked_followup_question/true","0000000018":"MISSION/student-scene-department-office/step-1/done","0000000019":"MISSION/student-scene-home-2/step-1/done","0000000020":"MISSION/student-scene-home-2/step-2/done","0000000021":"MISSION/student-scene-home-2/step-3/done","0000000022":"RESPONSE/student-gene-interested-in/gene","0000000023":"RESPONSE/student-gene-interested-in/system","0000000024":"MISSION/student-scene-home/step-1/done","0000000025":"MISSION/student-scene-home/step-2/done","0000000026":"MISSION/student-scene-home/step-3/done","0000000027":"MISSION/student-scene-home/workshop-ready/done","0000000028":"MISSION/digit-gene-workshop/step-1/done","0000000029":"MISSION/digit-gene-workshop/step-2/done","0000000030":"MISSION/digit-gene-workshop/step-3/done","0000000031":"MISSION/digit-gene-workshop/step-4/done"},o={};for(const t in r)o[r[t]]=t;function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(t){const e=[];t.fn("setAndNotify",(function(t,e){if(this.set(t,e),this.callbacks){if(a(this.callbacks,t))for(const e of this.callbacks[t])e.call(this,t);if(a(this.callbacks,"*"))for(const e of this.callbacks["*"])e.call(this,t)}})),t.fn("notify",(function(){for(const t in e)if(a(this.callbacks,t))for(const e of this.callbacks[t])e.call(this)})),t.fn("listen",(function(t,e){void 0===this.callbacks&&(this.callbacks={}),void 0===this.callbacks[t]&&(this.callbacks[t]=[]),this.callbacks[t].push(e)}))}(i.a._);const c="https://pingtung-hao-305236.middle2.me",u=i.a.namespace("REMOTE_STORE_CACHE");const h=i.a.namespace("DIALOG_ANSWER"),f=new class{constructor(){this._tokenChecked=!1}get token(){return u.get("token")}async _register(){const t=await fetch(c+"/register",{method:"POST"}),e=await t.json();if(e.token){u.set("token",e.token);const t=(new Date).getTime()+864e5;u.set("expire",t),this._tokenChecked=!0}}async _ensureToken(){if(!u.has("token"))return await this._register();if((new Date).getTime()>u.get("expire",0))return await this._register();if(!this._tokenChecked){const t=this.token,e=await fetch(`${c}/check_token?token=${t}`,{method:"GET"});if(!0!==(await e.json()).ok)return await this._register();this._tokenChecked=!0}}async _inc(t){await this._ensureToken(),console.log("increasing key: "+t);const e=`${c}/inc?token=${this.token}&key=${t}`,n=await fetch(e,{method:"POST"}),s=await n.json();return console.log(`increased key: ${t} -> ${s.value}, data: `,s),s.value}async _getc(t){await this._ensureToken();const e=`${c}/getc?token=${this.token}&key=${t}`,n=await fetch(e,{method:"GET"});return(await n.json()).value}increase(t){return t=o[t],this._inc(t)}getCount(t){return t=o[t],this._getc(t)}async getAllCount(){const t={};for(const e in r){const n=r[e],s=await this.getCount(n);t[n]=s}return t}}},,,,function(t,e,n){var s,i,r,o;s=this,i=this&&this.define,r={version:"2.12.0",areas:{},apis:{},inherit:function(t,e){for(var n in t)e.hasOwnProperty(n)||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e},stringify:function(t){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t)},parse:function(t,e){try{return JSON.parse(t,e||r.revive)}catch(e){return t}},fn:function(t,e){for(var n in r.storeAPI[t]=e,r.apis)r.apis[n][t]=e},get:function(t,e){return t.getItem(e)},set:function(t,e,n){t.setItem(e,n)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},Store:function(t,e,n){var s=r.inherit(r.storeAPI,(function(t,e,n){return 0===arguments.length?s.getAll():"function"==typeof e?s.transact(t,e,n):void 0!==e?s.set(t,e,n):"string"==typeof t||"number"==typeof t?s.get(t):"function"==typeof t?s.each(t):t?s.setAll(t,e):s.clear()}));s._id=t;try{e.setItem("__store2_test","ok"),s._area=e,e.removeItem("__store2_test")}catch(t){s._area=r.storage("fake")}return s._ns=n||"",r.areas[t]||(r.areas[t]=s._area),r.apis[s._ns+s._id]||(r.apis[s._ns+s._id]=s),s},storeAPI:{area:function(t,e){var n=this[t];return n&&n.area||(n=r.Store(t,e,this._ns),this[t]||(this[t]=n)),n},namespace:function(t,e){if(!t)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=t,s=this[n];if(!(s&&s.namespace||(s=r.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=s),e)))for(var i in r.areas)s.area(i,r.areas[i]);return s},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(t){return this._area.has?this._area.has(this._in(t)):!!(this._in(t)in this._area)},size:function(){return this.keys().length},each:function(t,e){for(var n=0,s=r.length(this._area);n<s;n++){var i=this._out(r.key(this._area,n));if(void 0!==i&&!1===t.call(this,i,this.get(i),e))break;s>r.length(this._area)&&(s--,n--)}return e||this},keys:function(t){return this.each((function(t,e,n){n.push(t)}),t||[])},get:function(t,e){var n,s=r.get(this._area,this._in(t));return"function"==typeof e&&(n=e,e=null),null!==s?r.parse(s,n):null!=e?e:s},getAll:function(t){return this.each((function(t,e,n){n[t]=e}),t||{})},transact:function(t,e,n){var s=this.get(t,n),i=e(s);return this.set(t,void 0===i?s:i),this},set:function(t,e,n){var s=this.get(t);return null!=s&&!1===n?e:r.set(this._area,this._in(t),r.stringify(e),n)||s},setAll:function(t,e){var n,s;for(var i in t)s=t[i],this.set(i,s,e)!==s&&(n=!0);return n},add:function(t,e){var n=this.get(t);if(n instanceof Array)e=n.concat(e);else if(null!==n){var s=typeof n;if(s===typeof e&&"object"===s){for(var i in e)n[i]=e[i];e=n}else e=n+e}return r.set(this._area,this._in(t),r.stringify(e)),e},remove:function(t,e){var n=this.get(t,e);return r.remove(this._area,this._in(t)),n},clear:function(){return this._ns?this.each((function(t){r.remove(this._area,this._in(t))}),1):r.clear(this._area),this},clearAll:function(){var t=this._area;for(var e in r.areas)r.areas.hasOwnProperty(e)&&(this._area=r.areas[e],this.clear());return this._area=t,this},_in:function(t){return"string"!=typeof t&&(t=r.stringify(t)),this._ns?this._ns+t:t},_out:function(t){return this._ns?t&&0===t.indexOf(this._ns)?t.substring(this._ns.length):void 0:t}},storage:function(t){return r.inherit(r.storageAPI,{items:{},name:t})},storageAPI:{length:0,has:function(t){return this.items.hasOwnProperty(t)},key:function(t){var e=0;for(var n in this.items)if(this.has(n)&&t===e++)return n},setItem:function(t,e){this.has(t)||this.length++,this.items[t]=e},removeItem:function(t){this.has(t)&&(delete this.items[t],this.length--)},getItem:function(t){return this.has(t)?this.items[t]:null},clear:function(){for(var t in this.items)this.removeItem(t)}}},(o=r.Store("local",function(){try{return localStorage}catch(t){}}())).local=o,o._=r,o.area("session",function(){try{return sessionStorage}catch(t){}}()),o.area("page",r.storage("page")),"function"==typeof i&&void 0!==i.amd?i("store2",[],(function(){return o})):t.exports?t.exports=o:(s.store&&(r.conflict=s.store),s.store=o)},,function(t,e,n){"use strict";n.r(e),n(0).b.getAllCount().then(t=>{document.getElementById("loading").hidden=!0;const e=document.getElementById("stat-table");for(const n in t){const s=t[n],i=e.insertRow();i.insertCell().innerHTML=n,i.insertCell().innerHTML=s}})}]);
//# sourceMappingURL=show_stat.js.map