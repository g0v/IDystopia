missions:
  intro+start:
    title: start-1
    description: ....
    steps:
      step-1:
        title: 遊戲玩法
        description: ...
        dialog:
          - name: 玩法教學
            line: 電腦版：用方向鍵移動，按 ENTER 觸發對話<br>手機版：用螢幕上的搖桿移動，點擊搖桿觸發對話
          - name: $player
            line: 這裡是...醫院？
          - name: 護士
            line: 醒來了嗎？您現在感覺如何
          - name: $player
            line: 我怎麼會在這裡...你是誰？
          - name: 護士
            line: 你因為在路邊昏倒,已經昏迷好幾天了,你先休息一下,等等醫生就會來了
            # Example of adding iframe
            # - type: iframe
            #   url: https://idystopia.art/assets/img/main_w.jpg
            #   style: "transform: scale(0.5);"
  doctor-enters-ward:
    title: 跟醫生談話
    description: ""
    steps:
      step-1:
        nextStep: step-2
        moveTo:
          npcId: doctor-npc
          location: $player
      step-2:
        npcId: doctor-npc
        dialog:
          - name: 醫生
            line: 您好！我是你的主治醫師 你叫什麼名字呢？
          - name: $player
            type: input.text
            question: 我的名字叫
            storeKey: player_name
          - name: 醫生
            line: 你還記得你現在幾歲嗎？
          - name: $player
            type: input.select
            question: 好像是...
            storeKey: player_age
            choices:
              - text: 15~24
                value: 15~24
              - text: 25~44歲
                value: 25~44
              - text: 45~64歲
                value: 45~54
              - text: 65以上
                value: 65UP
  15~24:
    depend:
      - - storeKey: player_age
          value: 15~24
        - storeKey: doctor-enters-ward/step-2/done
          value: "true"
    title: 15~24
    description: ""
    steps:
      step-1:
        dialog:
          - name: 醫生
            line: 你還記得什麼事情嗎？例如你的興趣或是你的家人之類的,或是你的基因等級
          - name: $player
            type: input.select
            question: 你還記得什麼事情嗎？例如你的興趣或是你的家人之類的,或是你的基因等級
            storeKey: player_problem
            choices:
              - text: 最近...爆發了疫情，已經持續快一年了
                value: 疫情
              - text: 因為疫情的關係所以數位身分證要改到明年換發
                value: 數位身分證
              - text: 基因等級...那是什麼？
                value: 基因等級
  gene-level:
    depend:
      - - storeKey: player_problem
          value: 基因等級
        - storeKey: 15~24/step-1/done
          value: "true"
    title: gene-level
    description: ""
    steps:
      step-1:
        dialog:
          - name: 醫生
            line: 基因等級是政府依照人民的健康檢測基因的部分作為判斷的標準 分成A,B,C,D 4個等級,A級代表比較有潛力可以拿到比較多資源甚至被特別栽培,D級代表沒有潛力不被重視有些資源也得不到
          - name: $player
            line: 那除了基因分級之外還有其他什麼變化嗎？
          - name: 醫生
            line: 還有政府有限制一天消耗的碳足跡,目的是為了要節能減碳
          - name: $player
            line: 消耗完了會怎麼樣嗎？
          - name: 醫生
            line: 詳細的情況可以詢問機器人,現在有一種搭載人工智慧的機器人你可以問問看詳細的情況可以詢問機器人,現在有一種搭載人工智慧的機器人你可以問問看
          - name: $player
            line: 機器人？在哪裏呢？
          - name: 醫生
            line: 旁邊的護士就是(機器人頭上會顯示＃)你可以看他衣服背後的編號有編號代表是機器人,還有在你昏迷期間對你做的檢查報告可以在手機裡查詢,我先去看其他病人了,依你現在的情況是因為過勞昏倒導致腦部長時間缺氧而失憶,身體其他地方沒有什麼傷害,你覺得沒事就可以出院了
          - type: message
            message: 先去辦出院手續好了
  Out-of-the-ward:
    depend:
      - gene-level/step-1/done
    title: 走出病房
    description: 走出病房到醫院櫃臺辦出院手續
    steps:
      step-1:
        locationId: Ward-door
        moveTo: counder
        dialog:
          - name: 櫃檯護士
            line: 這樣就好了
          - name: 路人Ａ
            line: 我發現機器人好像有其他隱藏功能誒
          - name: 路人B
            line: 是嗎？哪個功能
          - name: 路人Ａ
            line: 就是跟機器人問到一些敏感議題的時候機器人不都會回『我現在不太想討論這議題...』然後後面會再加一個關鍵字,我之前聽到的關鍵字是『樓梯間』然後我走到樓梯間的時候遇到另一個機器人,我再問他敏感話題他就會回復我的問題誒
          - name: 路人Ｂ
            line: 真的嗎？
          - type: message
            message: 剛剛醫生似乎有說有什麼問題都可以問機器人看看不然找機器人對話看看好了

  street:
    depend:
      - doctor-enters-ward/step-2/done
    title: On the street
    description: ....
    firstStep: last
    steps:
      step-1:
        nextStep: last
        dialog:
          - type: message
            message: 機器人呢？
      last:
        title: On the street
        description: ...
        npcId: doctor-npc
        dialog:
          - name: XX
            line: 機器人呢？
  wistoria:
    depend:
      - street/last/done
    title: Wistoria
    description: ....
    steps:
      step-1:
        nextStep: last
        moveTo: SHOP-INSIDE
        dialog:
          - name: $player
            line: 這是哪？
      last:
        title: Wistoria
        description: ...
        npcId: shop-clerk-npc
        dialog:
          - name: $player
            line: oh這是哪？
  ending-vo:
    depend:
      - wistoria/last/done
    title: back to home
    description: ....
    steps:
      step-1:
        moveTo: MY-ROOM
        title: Home
        description: ...
        nextStep: step-2
      step-2:
        npcId: home-robot-npc
        dialog:
          - name: $player
            line: 我是誰？我在哪裡？我在做什麼？
